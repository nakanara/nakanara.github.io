---
title: '[CentOS] CentOS에 Oracle 19C 설치'
layout: 
---

## CentOS에 Oracle 19C 설치

Oracle 19c는 다중 모델 데이터베이스입니다. 최근 데이터베이스가 19c로 사용이 증가하여, 
설치를 진행하게 되어 작성하였습니다.

### Oracle 19c 최소 사양

* CPU: 3.4Ghz(2Core)
* Mem: 8G
* HDD: 80Gb

## 설치

### 호스트 명 설정


```sh
echo "192.168.0.4 litdb.egene.io litdb" >> /etc/hosts
```

### 오라클 설치 전 사전 준비


#### 자동 설정

yum을 통한 사전 설정 작업

```sh 
$ yum install -y https://yum.oracle.com/repo/OracleLinux/OL7/latest/x86_64/getPackage/oracle-database-preinstall-19c-1.0-1.el7.x86_64.rpm
```


#### 수동 설정


1. 커널 매개 변수 조정
   
/etc/sysctl.d/98-oracle.conf 내용 추가
   
`oracle-database-preinstall-19c`로 진행하지 않았을 경우, 다음의 작업을 진행해야 합니다.

/etc/sysctl.conf 파일 또는 /etc/sysctl.d/98-oracle.conf 파일에 다음의 내용 추가

```sh
$ vi /etc/sysctl.d/98-oracle.conf
```

커널 매개 변수 수정
```
fs.file-max = 6815744
kernel.sem = 250 32000 100 128
kernel.shmmni = 4096
kernel.shmall = 1073741824
kernel.shmmax = 4398046511104
kernel.panic_on_oops = 1
net.core.rmem_default = 262144
net.core.rmem_max = 4194304
net.core.wmem_default = 262144
net.core.wmem_max = 1048576
net.ipv4.conf.all.rp_filter = 2
net.ipv4.conf.default.rp_filter = 2
fs.aio-max-nr = 1048576
net.ipv4.ip_local_port_range = 9000 65500
```

커널 매개 변수 로드

```sh
$ /sbin/sysctl -p
# or
$ /sbin/sysctl -p /etc/sysctl.d/98.oracle.conf
```

2.  보안 제한 설정

/etc/security/limits.d/oracle-database-preinstall-19c.conf 파일 내용 추가

```sh
$ vi /etc/security/limits.d/30-oracle.conf 
```

파일 추가 내용
```
oracle   soft   nofile    1024
oracle   hard   nofile    65536
oracle   soft   nproc    16384
oracle   hard   nproc    16384
oracle   soft   stack    10240
oracle   hard   stack    32768
oracle   hard   memlock    134217728
oracle   soft   memlock    134217728
```


3. 관련 패키지 설치

주로 인터넷 망이 불가능한 곳에서 설치를 진행하다보니,
습관처럼 다운로드를 받은 후 설치를 진행하였습니다.

```sh
yum install -y --downloadonly --downloaddir=/app/oracle_rpm \
bc \
binutils \
elfutils-libelf \
elfutils-libelf-devel \
fontconfig-devel \
glibc \
glibc-devel \
ksh \
libaio \
libaio-devel \
libXrender \
libXrender-devel \
libX11 \
libXau \
libXi \
libXtst \
libgcc \
librdmacm-devel \
libstdc++ \
libstdc++-devel \
libxcb \
make \
net-tools \
smartmontools \
sysstat \
unzip \
libnsl \
libnsl2
```


```sh
$ ll

합계 33676
-rw-r--r--. 1 root root   65788  7월  4  2014 dejavu-fonts-common-2.33-6.el7.noarch.rpm
-rw-r--r--. 1 root root 1482820  7월  4  2014 dejavu-sans-fonts-2.33-6.el7.noarch.rpm
-rw-r--r--. 1 root root   40716 10월 15  2020 elfutils-libelf-devel-0.176-5.el7.x86_64.rpm
-rw-r--r--. 1 root root   58112 10월 15  2020 expat-devel-2.1.0-12.el7.x86_64.rpm
-rw-r--r--. 1 root root  260512 11월 12  2018 fontconfig-2.13.0-4.3.el7.x86_64.rpm
-rw-r--r--. 1 root root  141248 11월 12  2018 fontconfig-devel-2.13.0-4.3.el7.x86_64.rpm
...
```

```sh
$ yum install -y /app/oracle_rpm/*.rpm

Installed:
  dejavu-fonts-common.noarch 0:2.33-6.el7    dejavu-sans-fonts.noarch 0:2.33-6.el7          elfutils-libelf-devel.x86_64 0:0.176-5.el7                expat-devel.x86_64 0:2.1.0-12.el7       fontconfig.x86_64 0:2.13.0-4.3.el7
  fontconfig-devel.x86_64 0:2.13.0-4.3.el7   fontpackages-filesystem.noarch 0:1.44-8.el7    freetype-devel.x86_64 0:2.8-14.el7_9.1                    glibc-devel.x86_64 0:2.17-324.el7_9     glibc-headers.x86_64 0:2.17-324.el7_9
  ibacm.x86_64 0:22.4-6.el7_9                kernel-headers.x86_64 0:3.10.0-1160.25.1.el7   ksh.x86_64 0:20120801-142.el7                             libX11.x86_64 0:1.6.7-3.el7_9           libX11-common.noarch 0:1.6.7-3.el7_9
  libX11-devel.x86_64 0:1.6.7-3.el7_9        libXau.x86_64 0:1.0.8-2.1.el7                  libXau-devel.x86_64 0:1.0.8-2.1.el7                       libXext.x86_64 0:1.3.3-3.el7            libXi.x86_64 0:1.7.9-1.el7
  libXrender.x86_64 0:0.9.10-1.el7           libXrender-devel.x86_64 0:0.9.10-1.el7         libXtst.x86_64 0:1.2.3-1.el7                              libaio-devel.x86_64 0:0.3.109-13.el7    libibumad.x86_64 0:22.4-6.el7_9
  libibverbs.x86_64 0:22.4-6.el7_9           libpng-devel.x86_64 2:1.5.13-8.el7             librdmacm.x86_64 0:22.4-6.el7_9                           libstdc++-devel.x86_64 0:4.8.5-44.el7   libuuid-devel.x86_64 0:2.23.2-65.el7_9.1
  libxcb.x86_64 0:1.13-1.el7                 libxcb-devel.x86_64 0:1.13-1.el7               lm_sensors-libs.x86_64 0:3.4.0-8.20160601gitf9185e5.el7   mailx.x86_64 0:12.5-19.el7              pciutils.x86_64 0:3.5.1-3.el7
  perl.x86_64 4:5.16.3-299.el7_9             perl-Carp.noarch 0:1.26-244.el7                perl-Encode.x86_64 0:2.51-7.el7                           perl-Exporter.noarch 0:5.68-3.el7       perl-File-Path.noarch 0:2.09-2.el7
  perl-File-Temp.noarch 0:0.23.01-3.el7      perl-Filter.x86_64 0:1.49-3.el7                perl-Getopt-Long.noarch 0:2.40-3.el7                      perl-HTTP-Tiny.noarch 0:0.033-3.el7     perl-PathTools.x86_64 0:3.40-5.el7
  perl-Pod-Escapes.noarch 1:1.04-299.el7_9   perl-Pod-Perldoc.noarch 0:3.20-4.el7           perl-Pod-Simple.noarch 1:3.28-4.el7                       perl-Pod-Usage.noarch 0:1.63-3.el7      perl-Scalar-List-Utils.x86_64 0:1.27-248.el7
  perl-Socket.x86_64 0:2.010-5.el7           perl-Storable.x86_64 0:2.45-3.el7              perl-Text-ParseWords.noarch 0:3.29-4.el7                  perl-Time-HiRes.x86_64 4:1.9725-3.el7   perl-Time-Local.noarch 0:1.2300-2.el7
  perl-constant.noarch 0:1.27-2.el7          perl-libs.x86_64 4:5.16.3-299.el7_9            perl-macros.x86_64 4:5.16.3-299.el7_9                     perl-parent.noarch 1:0.225-244.el7      perl-podlators.noarch 0:2.5.1-3.el7
  perl-threads.x86_64 0:1.87-4.el7           perl-threads-shared.x86_64 0:1.43-6.el7        rdma-core.x86_64 0:22.4-6.el7_9                           rdma-core-devel.x86_64 0:22.4-6.el7_9   smartmontools.x86_64 1:7.0-2.el7
  sysstat.x86_64 0:10.1.5-19.el7             unzip.x86_64 0:6.0-21.el7                      xorg-x11-proto-devel.noarch 0:2018.4-1.el7                zlib-devel.x86_64 0:1.2.7-19.el7_9

Complete!

```




### 오라클 패키지 설치



## 참고

* https://www.oracle.com/database/technologies/oracle-database-software-downloads.html#19c
* https://www.centlinux.com/2020/04/install-oracle-database-19c-on-centos-8.html
* https://pej4303.tistory.com/48
* https://im-codding.tistory.com/16
* https://oracle-base.com/articles/19c/oracle-db-19c-installation-on-oracle-linux-7
* 